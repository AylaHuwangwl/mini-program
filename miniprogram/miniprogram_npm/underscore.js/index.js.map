{"version":3,"sources":["underscore.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["function _(name, ...children) {\n  const result = document.createElement(name)\n\n  for (const child of children) {\n    if (typeof (child) === 'string')\n      result.appendChild(document.createTextNode(child))\n    else\n      result.appendChild(child)\n  }\n\n  result._att = function(atts) {\n    for (const [name, value] of Object.entries(atts))\n      this.setAttribute(name, value)\n    return this\n  }\n\n  result._onclick = function(callback) {\n    this.onclick = callback\n    return this\n  }\n\n  return result\n}\n\nconst MUNDANE_TAGS = ['canvas', 'h1', 'h2', 'h3', 'p', 'a', 'div', 'span', 'nav', 'ul', 'li', 'strong']\nfor (let tagName of MUNDANE_TAGS)\n  window['_' + tagName] = (...children) => _(tagName, ...children)\n\nfunction _img(src) {\n  return _('src')._att({ src })\n}\n\nfunction _input(type) {\n  return _('input')._att({ type });\n}\n\nfunction _router(routes) {\n  let _result = _div()\n\n  function syncHash() {\n    let hashLocation = document.location.hash.split('#')[1]\n    if (!hashLocation)\n      hashLocation = '/'\n\n    if (!(hashLocation in routes)) {\n      const route404 = '/404'\n      console.assert(route404 in routes)\n      hashLocation = route404\n    }\n\n    while (_result.firstChild)\n      _result.removeChild(_result.lastChild)\n\n    _result.appendChild(routes[hashLocation])\n\n    return _result;\n  }\n\n  syncHash()\n\n  window.addEventListener(\"hashchange\", syncHash);\n\n  return _result\n}"]}